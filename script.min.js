var colorBlock=document.getElementById("color-block"),ctx1=colorBlock.getContext("2d"),width1=colorBlock.width,height1=colorBlock.height,colorStrip=document.getElementById("color-strip"),ctx2=colorStrip.getContext("2d"),width2=colorStrip.width,height2=colorStrip.height,colorLabel=document.getElementById("color-label"),x=0,y=0,drag=!1,rgbaColor="rgba(255,0,0,1)";ctx1.rect(0,0,width1,height1),fillGradient(),ctx2.rect(0,0,width2,height2);var grd1=ctx2.createLinearGradient(0,0,0,height1);function click(t){x=t.offsetX,y=t.offsetY;var o=ctx2.getImageData(x,y,1,1).data;rgbaColor="rgba("+o[0]+","+o[1]+","+o[2]+",1)",fillGradient()}function fillGradient(){ctx1.fillStyle=rgbaColor,ctx1.fillRect(0,0,width1,height1);var t=ctx2.createLinearGradient(0,0,width1,0);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(1,"rgba(255,255,255,0)"),ctx1.fillStyle=t,ctx1.fillRect(0,0,width1,height1);var o=ctx2.createLinearGradient(0,0,0,height1);o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,1)"),ctx1.fillStyle=o,ctx1.fillRect(0,0,width1,height1)}function mousedown(t){drag=!0,changeColor(t)}function mousemove(t){drag&&changeColor(t)}function mouseup(t){drag=!1}function changeColor(t){x=t.offsetX,y=t.offsetY;var o=ctx1.getImageData(x,y,1,1).data;rgbaColor="rgba("+o[0]+","+o[1]+","+o[2]+",1)",colorLabel.style.backgroundColor=rgbaColor;var e=document.getElementById("myCircle").getContext("2d");e.beginPath(),e.arc(100,75,70,0,2*Math.PI),e.fillStyle="rgba("+o[0]+","+o[1]+","+o[2]+",1)",e.fill()}grd1.addColorStop(0,"rgba(255, 0, 0, 1)"),grd1.addColorStop(.17,"rgba(255, 255, 0, 1)"),grd1.addColorStop(.34,"rgba(0, 255, 0, 1)"),grd1.addColorStop(.51,"rgba(0, 255, 255, 1)"),grd1.addColorStop(.68,"rgba(0, 0, 255, 1)"),grd1.addColorStop(.85,"rgba(255, 0, 255, 1)"),grd1.addColorStop(1,"rgba(255, 0, 0, 1)"),ctx2.fillStyle=grd1,ctx2.fill(),colorStrip.addEventListener("click",click,!1),colorBlock.addEventListener("mousedown",mousedown,!1),colorBlock.addEventListener("mouseup",mouseup,!1),colorBlock.addEventListener("mousemove",mousemove,!1);var c=document.getElementById("myCircle"),ctx=c.getContext("2d");ctx.beginPath(),ctx.arc(100,75,70,0,2*Math.PI),ctx.fill();
